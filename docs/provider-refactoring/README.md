# AetherLink Provider æ¶æ„é‡æ„è®¡åˆ’

> å‚è€ƒ Cherry Studio çš„å¤šä¾›åº”å•†ç®¡ç†æ¶æ„ï¼Œå¯¹ AetherLink è¿›è¡Œæ¸è¿›å¼é‡æ„

## ğŸ“‹ æ–‡æ¡£ç›®å½•

| æ–‡æ¡£ | å†…å®¹ | é¢„è®¡å·¥æ—¶ |
|------|------|---------|
| [Phase 1: ç±»å‹ç³»ç»Ÿé‡æ„](./phase-1-types.md) | ç±»å‹å®šä¹‰ã€SchemaéªŒè¯ | 2-3å¤© |
| [Phase 2: æŠ½è±¡åŸºç±»è®¾è®¡](./phase-2-base-client.md) | BaseApiClientç»Ÿä¸€æ¥å£ | 3-4å¤© |
| [Phase 3: å·¥å‚æ¨¡å¼å‡çº§](./phase-3-factory.md) | ApiClientFactoryé‡æ„ | 2å¤© |
| [Phase 4: ä¸­é—´ä»¶ç³»ç»Ÿ](./phase-4-middleware.md) | ä¸­é—´ä»¶æ¶æ„è®¾è®¡ | 4-5å¤© |
| [Phase 5: ä¾›åº”å•†è¿ç§»](./phase-5-providers.md) | é€ä¸ªè¿ç§»ç°æœ‰ä¾›åº”å•† | 5-7å¤© |
| [Phase 6: çŠ¶æ€ç®¡ç†](./phase-6-state.md) | ProviderçŠ¶æ€ç®¡ç†ä¼˜åŒ– | 2-3å¤© |

## ğŸ¯ é‡æ„ç›®æ ‡

1. **é«˜å†…èšä½è€¦åˆ** - å„ç»„ä»¶èŒè´£æ¸…æ™°ï¼Œå‡å°‘ä¾èµ–
2. **æ˜“äºæ‰©å±•** - æ·»åŠ æ–°ä¾›åº”å•†åªéœ€å®ç°æ¥å£ + æ³¨å†Œ
3. **ä»£ç å¤ç”¨** - é€šç”¨é€»è¾‘é€šè¿‡ä¸­é—´ä»¶/åŸºç±»å…±äº«
4. **ç±»å‹å®‰å…¨** - å®Œæ•´çš„TypeScriptç±»å‹æ”¯æŒ
5. **å‘åå…¼å®¹** - æ¸è¿›å¼é‡æ„ï¼Œä¸ç ´åç°æœ‰åŠŸèƒ½

## ğŸ—ï¸ ç›®æ ‡æ¶æ„

```
src/shared/
â”œâ”€â”€ aiCore/                      # æ–°çš„AIæ ¸å¿ƒæ¨¡å—
â”‚   â”œâ”€â”€ types/                   # ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ provider.ts          # Providerç±»å‹
â”‚   â”‚   â”œâ”€â”€ chunk.ts             # Chunkç±»å‹
â”‚   â”‚   â”œâ”€â”€ sdk.ts               # SDKé€šç”¨ç±»å‹
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ clients/                 # ä¾›åº”å•†å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ base/
â”‚   â”‚   â”‚   â”œâ”€â”€ BaseApiClient.ts # æŠ½è±¡åŸºç±»
â”‚   â”‚   â”‚   â””â”€â”€ types.ts         # å®¢æˆ·ç«¯ç±»å‹
â”‚   â”‚   â”œâ”€â”€ openai/
â”‚   â”‚   â”‚   â”œâ”€â”€ OpenAIClient.ts
â”‚   â”‚   â”‚   â””â”€â”€ OpenAIResponseClient.ts
â”‚   â”‚   â”œâ”€â”€ gemini/
â”‚   â”‚   â”‚   â””â”€â”€ GeminiClient.ts
â”‚   â”‚   â”œâ”€â”€ anthropic/
â”‚   â”‚   â”‚   â””â”€â”€ AnthropicClient.ts
â”‚   â”‚   â””â”€â”€ factory.ts           # å®¢æˆ·ç«¯å·¥å‚
â”‚   â”‚
â”‚   â”œâ”€â”€ middleware/              # ä¸­é—´ä»¶ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ core/                # æ ¸å¿ƒä¸­é—´ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ErrorHandler.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ AbortHandler.ts
â”‚   â”‚   â”‚   â””â”€â”€ StreamAdapter.ts
â”‚   â”‚   â”œâ”€â”€ feat/                # åŠŸèƒ½ä¸­é—´ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ThinkingExtraction.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ToolUseExtraction.ts
â”‚   â”‚   â”‚   â””â”€â”€ WebSearch.ts
â”‚   â”‚   â”œâ”€â”€ builder.ts           # ä¸­é—´ä»¶æ„å»ºå™¨
â”‚   â”‚   â”œâ”€â”€ composer.ts          # ä¸­é—´ä»¶ç»„åˆå™¨
â”‚   â”‚   â””â”€â”€ types.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ provider/                # Provideré…ç½®
â”‚   â”‚   â”œâ”€â”€ configs/             # ç³»ç»Ÿä¾›åº”å•†é…ç½®
â”‚   â”‚   â”‚   â”œâ”€â”€ openai.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ gemini.ts
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â””â”€â”€ registry.ts          # Provideræ³¨å†Œè¡¨
â”‚   â”‚
â”‚   â””â”€â”€ index.ts                 # ç»Ÿä¸€å…¥å£
â”‚
â”œâ”€â”€ api/                         # ä¿ç•™æ—§APIï¼ˆé€æ­¥åºŸå¼ƒï¼‰
â””â”€â”€ providers/                   # ä¿ç•™æ—§providersï¼ˆé€æ­¥åºŸå¼ƒï¼‰
```

## ğŸ“… æ—¶é—´çº¿

```
Week 1: Phase 1 + Phase 2 (åŸºç¡€æ¶æ„)
Week 2: Phase 3 + Phase 4 (å·¥å‚å’Œä¸­é—´ä»¶)  
Week 3: Phase 5 (ä¾›åº”å•†è¿ç§»)
Week 4: Phase 6 + æµ‹è¯• + æ¸…ç†
```

## ğŸ”„ é‡æ„åŸåˆ™

1. **æ¸è¿›å¼é‡æ„** - ä¿æŒæ—§ä»£ç å¯ç”¨ï¼Œé€æ­¥æ›¿æ¢
2. **å…ˆå†™æµ‹è¯•** - æ¯ä¸ªé˜¶æ®µå…ˆå®šä¹‰é¢„æœŸè¡Œä¸º
3. **å°æ­¥æäº¤** - æ¯ä¸ªå°åŠŸèƒ½å®Œæˆåæäº¤
4. **æ–‡æ¡£åŒæ­¥** - ä»£ç å’Œæ–‡æ¡£åŒæ­¥æ›´æ–°

## ğŸš€ å¿«é€Ÿå¼€å§‹

å¼€å§‹ç¬¬ä¸€é˜¶æ®µå‰ï¼Œè¯·å…ˆé˜…è¯»ï¼š
1. [Phase 1: ç±»å‹ç³»ç»Ÿé‡æ„](./phase-1-types.md)
2. Cherry Studio å‚è€ƒä»£ç ï¼š`docs/å‚è€ƒé¡¹ç›®/cherry-studio-main/src/renderer/src/`
